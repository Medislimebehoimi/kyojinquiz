<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>読売ジャイアンツ 選手当てクイズ 2026</title>
    <style>
        :root {
            --orange: #ff8c00; --yellow: #b59f3b; --green: #538d4e; --gray: #3a3a3c; --black: #121213;
        }
        body { background-color: var(--black); color: white; font-family: 'Helvetica Neue', Arial, sans-serif; text-align: center; margin: 0; padding: 20px; }
        .grid { display: flex; flex-direction: column; gap: 8px; max-width: 600px; margin: 20px auto; }
        .row { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr; gap: 5px; }
        .cell { height: 50px; display: flex; align-items: center; justify-content: center; border: 2px solid #3a3a3c; font-size: 14px; font-weight: bold; border-radius: 4px; }
        .correct { background-color: var(--green); border-color: var(--green); }
        .near { background-color: var(--yellow); border-color: var(--yellow); }
        .wrong { background-color: var(--gray); border-color: var(--gray); }
        .input-area { margin-top: 30px; }
        select { padding: 12px; font-size: 18px; width: 250px; border-radius: 5px; border: none; cursor: pointer; }
        .btn { padding: 12px 20px; font-size: 18px; cursor: pointer; border: none; border-radius: 5px; font-weight: bold; margin-left: 5px; }
        .submit-btn { background-color: var(--orange); color: white; }
        .giveup-btn { background-color: #666; color: white; }
        .reset-btn { background-color: #ffffff; color: #000000; display: none; margin: 20px auto; }
        
        /* メッセージと画像を独立させる */
        #result-message { color: var(--orange); margin-top: 20px; min-height: 1.5em; }
        #result-image-container { display: none; margin: 20px auto; max-width: 450px; }
        #result-image-container img { width: 100%; border-radius: 10px; border: 4px solid var(--orange); }

        #hint-container { margin-top: 20px; min-height: 2.8em; line-height: 1.4; }
        #hint-display-1 { color: #ffad33; font-weight: bold; }
        #hint-display-2 { color: #FFD700; font-weight: bold; }
        .header-row { font-size: 10px; color: #818384; text-transform: uppercase; margin-bottom: 5px; }
    </style>
</head>
<body>

    <h1>読売ジャイアンツ 選手当てクイズ</h1>
    <p>各項目で正解すると緑になり、年齢と身長は惜しかったら黄色になります。年齢は±2歳、身長は±5cmで黄色判定です。また、年齢は２０２６年シーズン終了（１２月３１日）時点のものになります。</p>

    <div class="input-area" id="controls">
        <select id="playerSelect"><option value="">選手を選択...</option></select>
        <button class="btn submit-btn" id="submitBtn" onclick="submitGuess()">決定</button>
        <button class="btn giveup-btn" id="giveupBtn" onclick="giveUp()">ギブアップ</button>
    </div>

    <h2 id="result-message"></h2>
    <div id="result-image-container">
        <img id="winImage" src="" alt="正解画像">
    </div>

    <button class="btn reset-btn" id="resetBtn" onclick="resetGame()">もう一度遊ぶ</button>
    
    <div id="hint-container">
        <div id="hint-display-1"></div>
        <div id="hint-display-2"></div>
    </div>

    <div class="grid" id="gameBoard">
        <div class="row header-row">
            <div>選手名</div><div>ポジ</div><div>投打</div><div>年齢</div><div>経緯</div><div>身長</div>
        </div>
    </div>

<script>
const IMG_EXCELLENT = "appare.jpg"; 
const IMG_GOOD = "katsu.png";

const players = [
    {n:"田中将大",p:"投手",h:"右右",a:38,r:"高卒",s:188}, {n:"大勢",p:"投手",h:"右右",a:27,r:"大卒",s:181},
    {n:"西舘勇陽",p:"投手",h:"右右",a:24,r:"大卒",s:183}, {n:"山﨑伊織",p:"投手",h:"右左",a:28,r:"大卒",s:181},
    {n:"戸郷翔征",p:"投手",h:"右右",a:26,r:"高卒",s:187}, {n:"竹丸和幸",p:"投手",h:"左左",a:20,r:"高卒",s:180},
    {n:"ウィットリー",p:"投手",h:"右右",a:28,r:"海外",s:190}, {n:"ハワード",p:"投手",h:"右右",a:30,r:"海外",s:188},
    {n:"田和廉",p:"投手",h:"右右",a:24,r:"大卒",s:183}, {n:"赤星優志",p:"投手",h:"右右",a:27,r:"大卒",s:175},
    {n:"山城京平",p:"投手",h:"左左",a:24,r:"大卒",s:175}, {n:"中川皓太",p:"投手",h:"左左",a:32,r:"大卒",s:183},
    {n:"マタ",p:"投手",h:"右右",a:27,r:"海外",s:190}, {n:"則本昂大",p:"投手",h:"右右",a:36,r:"大卒",s:178},
    {n:"田中瑛斗",p:"投手",h:"右左",a:27,r:"高卒",s:184}, {n:"又木鉄平",p:"投手",h:"左左",a:27,r:"社卒",s:182},
    {n:"森田駿哉",p:"投手",h:"左左",a:29,r:"社卒",s:185}, {n:"バルドナード",p:"投手",h:"左左",a:33,r:"海外",s:196},
    {n:"高梨雄平",p:"投手",h:"左左",a:34,r:"大卒",s:175}, {n:"松浦慶斗",p:"投手",h:"左左",a:23,r:"高卒",s:186},
    {n:"北浦竜次",p:"投手",h:"左左",a:26,r:"高卒",s:184}, {n:"宮原駿介",p:"投手",h:"左左",a:24,r:"大卒",s:174},
    {n:"船迫大雅",p:"投手",h:"右左",a:30,r:"社卒",s:174}, {n:"横川凱",p:"投手",h:"左左",a:26,r:"高卒",s:190},
    {n:"泉圭輔",p:"投手",h:"右右",a:29,r:"大卒",s:188}, {n:"山田龍聖",p:"投手",h:"左左",a:26,r:"高卒",s:183},
    {n:"石川達也",p:"投手",h:"左右",a:28,r:"大卒",s:178}, {n:"平内龍太",p:"投手",h:"右右",a:28,r:"大卒",s:185},
    {n:"堀田賢慎",p:"投手",h:"右右",a:25,r:"高卒",s:186}, {n:"マルティネス",p:"投手",h:"右左",a:30,r:"海外",s:193},
    {n:"井上温大",p:"投手",h:"左左",a:25,r:"高卒",s:175}, {n:"甲斐拓也",p:"捕手",h:"右右",a:34,r:"高卒",s:170},
    {n:"小林誠司",p:"捕手",h:"右右",a:37,r:"大卒",s:178}, {n:"大城卓三",p:"捕手",h:"右左",a:34,r:"社卒",s:187},
    {n:"岸田行倫",p:"捕手",h:"右右",a:30,r:"社卒",s:176}, {n:"郡拓也",p:"捕手",h:"右右",a:28,r:"高卒",s:179},
    {n:"山瀬慎之助",p:"捕手",h:"右右",a:25,r:"高卒",s:177}, {n:"湯浅大",p:"内野手",h:"右右",a:27,r:"高卒",s:172},
    {n:"増田大輝",p:"内野手",h:"右右",a:33,r:"独立",s:172}, {n:"吉川尚輝",p:"内野手",h:"右左",a:31,r:"大卒",s:177},
    {n:"門脇誠",p:"内野手",h:"右左",a:25,r:"大卒",s:171}, {n:"坂本勇人",p:"内野手",h:"右右",a:38,r:"高卒",s:186},
    {n:"石塚裕惺",p:"内野手",h:"右右",a:20,r:"高卒",s:181}, {n:"ダルベック",p:"内野手",h:"右右",a:31,r:"海外",s:193},
    {n:"浦田俊輔",p:"内野手",h:"右左",a:24,r:"大卒",s:170}, {n:"小濱佑斗",p:"内野手",h:"右右",a:24,r:"独立",s:182},
    {n:"泉口友汰",p:"内野手",h:"右左",a:27,r:"社卒",s:178}, {n:"リチャード",p:"内野手",h:"右右",a:27,r:"高卒",s:188},
    {n:"荒巻悠",p:"内野手",h:"右左",a:24,r:"大卒",s:185}, {n:"増田陸",p:"内野手",h:"右右",a:26,r:"高卒",s:178},
    {n:"藤井健翔",p:"内野手",h:"右右",a:24,r:"大卒",s:182}, {n:"丸佳浩",p:"外野手",h:"右左",a:37,r:"高卒",s:177},
    {n:"松本剛",p:"外野手",h:"右右",a:33,r:"高卒",s:180}, {n:"萩尾匡也",p:"外野手",h:"右右",a:26,r:"大卒",s:180},
    {n:"キャベッジ",p:"外野手",h:"右左",a:29,r:"海外",s:188}, {n:"岡田悠希",p:"外野手",h:"右左",a:27,r:"大卒",s:183},
    {n:"皆川岳飛",p:"外野手",h:"右左",a:24,r:"大卒",s:182}, {n:"中山礼都",p:"外野手",h:"右左",a:24,r:"高卒",s:182},
    {n:"佐々木俊輔",p:"外野手",h:"右左",a:27,r:"社卒",s:174}, {n:"浅野翔吾",p:"外野手",h:"右右",a:22,r:"高卒",s:171},
    {n:"若林楽人",p:"外野手",h:"右右",a:28,r:"大卒",s:177}, {n:"三塚琉生",p:"外野手",h:"左左",a:22,r:"高卒",s:181}
];

let answer;
let guessCount = 0;
let usedPlayerNames = [];
const hintDisplay1 = document.getElementById('hint-display-1');
const hintDisplay2 = document.getElementById('hint-display-2');
const playerSelect = document.getElementById('playerSelect');
const resetBtn = document.getElementById('resetBtn');
const submitBtn = document.getElementById('submitBtn');
const giveupBtn = document.getElementById('giveupBtn');
const imageContainer = document.getElementById('result-image-container');
const winImage = document.getElementById('winImage');
const resultMsg = document.getElementById('result-message');

function initGame() {
    answer = players[Math.floor(Math.random() * players.length)];
    guessCount = 0;
    usedPlayerNames = [];
    hintDisplay1.innerText = "";
    hintDisplay2.innerText = "";
    resultMsg.innerText = "";
    resetBtn.style.display = "none";
    imageContainer.style.display = "none";
    winImage.src = "";
    submitBtn.disabled = false;
    giveupBtn.disabled = false;
    playerSelect.disabled = false;
    updateDropdown();
}

function updateDropdown() {
    playerSelect.innerHTML = '<option value="">選手を選択...</option>';
    const posOrder = { "投手": 1, "捕手": 2, "内野手": 3, "外野手": 4 };
    const availablePlayers = players.filter(p => !usedPlayerNames.includes(p.n));
    const sortedPlayers = availablePlayers.sort((a, b) => {
        if (posOrder[a.p] !== posOrder[b.p]) return posOrder[a.p] - posOrder[b.p];
        return a.n.localeCompare(b.n, 'ja');
    });
    sortedPlayers.forEach(p => {
        const opt = document.createElement('option');
        opt.value = p.n;
        opt.innerText = `[${p.p}] ${p.n}`;
        playerSelect.appendChild(opt);
    });
}

function submitGuess() {
    const guessName = playerSelect.value;
    if (!guessName) return;
    guessCount++;
    usedPlayerNames.push(guessName);
    const guessPlayer = players.find(p => p.n === guessName);
    addResultRow(guessPlayer);
    updateDropdown();

    if (guessName === answer.n) {
        winImage.src = (guessCount <= 5) ? IMG_EXCELLENT : IMG_GOOD;
        imageContainer.style.display = "block";
        resultMsg.innerText = (guessCount <= 5) ? `${guessCount}手で正解！あっぱれ！` : `${guessCount}手もかければ誰でも正解できる！喝だ！`;
        endGame();
    } else {
        if (guessCount === 5) giveHint(1);
        if (guessCount === 10) giveHint(2);
    }
}

function giveUp() {
    if (!confirm("本当にギブアップしますか？")) return;
    resultMsg.innerText = `正解は「${answer.n}」でした。`;
    imageContainer.style.display = "none"; 
    endGame();
}

function endGame() {
    submitBtn.disabled = true;
    giveupBtn.disabled = true;
    playerSelect.disabled = true;
    resetBtn.style.display = "block";
}

function resetGame() {
    const board = document.getElementById('gameBoard');
    board.innerHTML = '<div class="row header-row"><div>選手名</div><div>ポジ</div><div>投打</div><div>年齢</div><div>経緯</div><div>身長</div></div>';
    initGame();
}

function giveHint(level) {
    if (level === 1) hintDisplay1.innerText = `【５連続不正解】ヒント１：正解選手の「身長」は「${answer.s}cm」です。`;
    if (level === 2) hintDisplay2.innerText = `【１０連続不正解】ヒント２：正解選手の「年齢」は「${answer.a}歳」です。`;
}

function addResultRow(p) {
    const board = document.getElementById('gameBoard');
    const row = document.createElement('div');
    row.className = 'row';
    const check = (val, target, type) => {
        if (val === target) return 'correct';
        if (type === 'hand') { if (val[0] === target[0] || val[1] === target[1]) return 'near'; }
        if (type === 'age' && Math.abs(val - target) <= 2) return 'near';
        if (type === 'height' && Math.abs(val - target) <= 5) return 'near';
        return 'wrong';
    };
    const cells = [
        {txt: p.n, cls: check(p.n, answer.n)},
        {txt: p.p, cls: check(p.p, answer.p)},
        {txt: p.h, cls: check(p.h, answer.h, 'hand')},
        {txt: p.a + "歳", cls: check(p.a, answer.a, 'age')},
        {txt: p.r, cls: check(p.r, answer.r)},
        {txt: p.s + "cm", cls: check(p.s, answer.s, 'height')}
    ];
    cells.forEach(c => {
        const div = document.createElement('div');
        div.className = 'cell ' + c.cls;
        div.innerText = c.txt;
        row.appendChild(div);
    });
    board.appendChild(row);
}
initGame();
</script>
</body>
</html>
